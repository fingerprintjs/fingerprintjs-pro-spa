<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@fingerprintjs/fingerprintjs-pro-spa</title><meta name="description" content="Documentation for @fingerprintjs/fingerprintjs-pro-spa"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@fingerprintjs/fingerprintjs-pro-spa</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>@fingerprintjs/fingerprintjs-pro-spa </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography"><p align="center">
  <a href="https://fingerprint.com">
    <picture>
     <source media="(prefers-color-scheme: dark)" srcset="https://fingerprintjs.github.io/home/resources/logo_light.svg" />
     <source media="(prefers-color-scheme: light)" srcset="https://fingerprintjs.github.io/home/resources/logo_dark.svg" />
     <img src="https://fingerprintjs.github.io/home/resources/logo_dark.svg" alt="Fingerprint logo" width="312px" />
   </picture>
  </a>
<p align="center">
<a href="https://www.npmjs.com/package/@fingerprintjs/fingerprintjs-pro-spa">
  <img src="https://img.shields.io/npm/v/@fingerprintjs/fingerprintjs-pro-spa.svg" alt="Current NPM version">
</a>
<a href="https://www.npmjs.com/package/@fingerprintjs/fingerprintjs-pro-spa">
  <img src="https://img.shields.io/npm/dm/@fingerprintjs/fingerprintjs-pro-spa.svg" alt="Monthly downloads from NPM">
</a>
<a href="https://opensource.org/licenses/MIT">
  <img src="https://img.shields.io/:license-mit-blue.svg" alt="MIT license">
</a>
<a href="https://discord.gg/39EpE2neBg">
  <img src="https://img.shields.io/discord/852099967190433792?style=logo&label=Discord&logo=Discord&logoColor=white" alt="Discord server">
</a>
<a href="https://fingerprintjs.github.io/fingerprintjs-pro-spa">
  <img src="https://img.shields.io/badge/-Documentation-green" alt="Documentation">
</a>



<a href="#fingerprint-pro-spa" id="fingerprint-pro-spa" style="color: inherit; text-decoration: none;">
  <h1>Fingerprint Pro SPA</h1>
</a>
<p>This library was designed to be used in SPA framework wrappers for the Fingerprint Pro JavaScript Agent. 
It also has several built-in caching mechanisms that are optimized according to the official recommendations. </p>
<p>If you just need the Fingerprint Pro <a href="https://www.npmjs.com/package/@fingerprintjs/fingerprintjs-pro">JS agent</a>, you can use it directly, without this wrapper. If you&#39;re looking for a framework-specific integration, we have dedicated SDKs for <a href="https://github.com/fingerprintjs/fingerprintjs-pro-react">React (including Next, Preact)</a>, <a href="https://github.com/fingerprintjs/fingerprintjs-pro-vue">Vue</a>, <a href="https://github.com/fingerprintjs/fingerprintjs-pro-svelte">Svelte</a> and <a href="https://github.com/fingerprintjs/fingerprintjs-pro-angular">Angular</a>.</p>
<p><strong>This SDK works with Fingerprint Pro, it will not work with the open-source FingerprintJS version!</strong> 
Learn more about the <a href="https://dev.fingerprint.com/docs/pro-vs-open-source">difference between Pro and OSS</a>. 
If you&#39;d like to have a similar SPA wrapper for the OSS version of FingerprintJS, consider <a href="https://github.com/fingerprintjs/fingerprintjs-pro-spa/issues">raising an issue in our issue tracker</a>.</p>

<a href="#table-of-contents" id="table-of-contents" style="color: inherit; text-decoration: none;">
  <h2>Table of Contents</h2>
</a>
<ul>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#getting-started">Getting Started</a></li>
<li><a href="#support--feedback">Support + Feedback</a></li>
<li><a href="#what-is-fingerprint-pro">What is Fingerprint Pro</a></li>
<li><a href="#license">License</a></li>
</ul>

<a href="#documentation" id="documentation" style="color: inherit; text-decoration: none;">
  <h2>Documentation</h2>
</a>
<p>This library uses <a href="https://fingerprint.com/github/">Fingerprint Pro</a> under the hood, you can view the document for the core technology.</p>
<ul>
<li><a href="https://dev.fingerprint.com/docs">Documentation</a></li>
</ul>

<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
  <h2>Installation</h2>
</a>
<p>Using <a href="https://npmjs.org">npm</a>:</p>
<pre><code class="language-sh"><span class="hl-0">npm install @fingerprintjs/fingerprintjs-pro-spa</span>
</code></pre>
<p>Using <a href="https://yarnpkg.com">yarn</a>:</p>
<pre><code class="language-sh"><span class="hl-0">yarn add @fingerprintjs/fingerprintjs-pro-spa</span>
</code></pre>

<a href="#getting-started" id="getting-started" style="color: inherit; text-decoration: none;">
  <h2>Getting Started</h2>
</a>

<a href="#fingerprint-pro-public-api-key" id="fingerprint-pro-public-api-key" style="color: inherit; text-decoration: none;">
  <h3>Fingerprint Pro public API key</h3>
</a>
<p>In order to identify visitors you&#39;ll need a Fingerprint Pro account (you can <a href="https://dashboard.fingerprint.com/signup/">sign up for free</a>).</p>
<ul>
<li>Go to <a href="https://dashboard.fingerprint.com/">Fingerprint Dashboard</a></li>
<li>Open the <em>API keys</em> page from the sidebar</li>
<li>Find your <em>Public</em> API key</li>
</ul>

<a href="#creating-the-client" id="creating-the-client" style="color: inherit; text-decoration: none;">
  <h3>Creating the client</h3>
</a>
<p>Create a <code>FpjsClient</code> instance before rendering or initializing your application. You should only have one instance of the client.</p>
<pre><code class="language-js"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">FpjsClient</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;@fingerprintjs/fingerprintjs-pro-spa&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">// It can receive multiple parameters but the only required one is `loadOptions`, which contains the public API key</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">fpjsClient</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-7">FpjsClient</span><span class="hl-0">({</span><br/><span class="hl-0">  </span><span class="hl-2">loadOptions:</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">apiKey:</span><span class="hl-0"> </span><span class="hl-3">&quot;your-fpjs-public-api-key&quot;</span><span class="hl-0"> </span><span class="hl-4">// insert your public api key from the dashboard here</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">});</span>
</code></pre>
<p>You can learn more about different load options here: <a href="https://dev.fingerprint.com/docs/js-agent#agent-initialization">https://dev.fingerprint.com/docs/js-agent#agent-initialization</a></p>

<a href="#1---init-the-js-agent" id="1---init-the-js-agent" style="color: inherit; text-decoration: none;">
  <h3>1 - Init the JS agent</h3>
</a>
<p>Before you start making identification requests to the Fingerprint Pro API, you need to initialize the Agent 
to allow it to gather browser signals. 
Make sure the initialization has been completed before calling the <code>getVisitorData</code> method to avoid errors.</p>
<pre><code class="language-js"><span class="hl-4">// with async/await</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">fpjsClient</span><span class="hl-0">.</span><span class="hl-7">init</span><span class="hl-0">()</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">visitorData</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">fpjsClient</span><span class="hl-0">.</span><span class="hl-7">getVisitorData</span><span class="hl-0">()</span><br/><br/><span class="hl-4">// with promises</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">visitorData</span><span class="hl-0"> = </span><span class="hl-2">fpjsClient</span><span class="hl-0">.</span><span class="hl-7">init</span><span class="hl-0">().</span><span class="hl-7">then</span><span class="hl-0">(() </span><span class="hl-5">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-2">fpjsClient</span><span class="hl-0">.</span><span class="hl-7">getVisitorData</span><span class="hl-0">()</span><br/><span class="hl-0">})</span>
</code></pre>

<a href="#2---calling-an-api" id="2---calling-an-api" style="color: inherit; text-decoration: none;">
  <h3>2 - Calling an API</h3>
</a>
<p>The <code>getVisitorData</code> method returns visitor identification data based on the request <a href="https://dev.fingerprint.com/docs/js-agent#visitor-identification">options</a>.
The second parameter <code>ignoreCache</code> will make sure that a request to the API  be made even if the data is present in cache.</p>
<pre><code class="language-js"><span class="hl-4">// with async/await</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">visitorData</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">fpjsClient</span><span class="hl-0">.</span><span class="hl-7">getVisitorData</span><span class="hl-0">({ </span><span class="hl-2">extendedResult:</span><span class="hl-0"> </span><span class="hl-5">true</span><span class="hl-0"> })</span><br/><br/><span class="hl-4">// with promises</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">visitorData</span><span class="hl-0"> = </span><span class="hl-2">fpjsClient</span><span class="hl-0">.</span><span class="hl-7">getVisitorData</span><span class="hl-0">({ </span><span class="hl-2">extendedResult:</span><span class="hl-0"> </span><span class="hl-5">true</span><span class="hl-0"> }).</span><span class="hl-7">then</span><span class="hl-0">((</span><span class="hl-2">visitorData</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-4">// use visitor data in your fraud prevention logic</span><br/><span class="hl-0">  </span><span class="hl-7">checkIfFingerprintIsFraudulent</span><span class="hl-0">(</span><span class="hl-2">visitorData</span><span class="hl-0">.</span><span class="hl-2">visitorId</span><span class="hl-0">) </span><span class="hl-4">// this method is just an example, this SDK doesn&#39;t actually supply it</span><br/><span class="hl-0">})</span>
</code></pre>

<a href="#caching" id="caching" style="color: inherit; text-decoration: none;">
  <h3>Caching</h3>
</a>
<p>The SDK can be configured to cache the visitor data in memory, in session storage, or in local storage. 
The default is in session storage. This setting can be controlled using the <code>cacheLocation</code> option when creating the Fpjs client.</p>
<p>To use the session storage mode, no additional options need are required as this is the default setting. To configure the SDK to cache data using local storage, set <code>cacheLocation</code> as follows:</p>
<pre><code class="language-js"><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">fpjsClient</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-7">FpjsClient</span><span class="hl-0">({</span><br/><span class="hl-0">  </span><span class="hl-2">loadOptions:</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">apiKey:</span><span class="hl-0"> </span><span class="hl-3">&quot;your-fpjs-public-api-key&quot;</span><br/><span class="hl-0">  },</span><br/><span class="hl-0">  </span><span class="hl-2">cacheLocation:</span><span class="hl-0"> </span><span class="hl-3">&#39;localstorage&#39;</span><br/><span class="hl-0">});</span>
</code></pre>
<p>Or if you are using TypeScript:</p>
<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">fpjsClient</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-7">FpjsClient</span><span class="hl-0">({</span><br/><span class="hl-0">  </span><span class="hl-2">loadOptions:</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">apiKey:</span><span class="hl-0"> </span><span class="hl-3">&quot;your-fpjs-public-api-key&quot;</span><br/><span class="hl-0">  },</span><br/><span class="hl-0">  </span><span class="hl-2">cacheLocation:</span><span class="hl-0"> </span><span class="hl-2">CacheLocation</span><span class="hl-0">.</span><span class="hl-2">LocalStorage</span><br/><span class="hl-0">});</span>
</code></pre>
<p>Cache keys are formed based on the combination of the <em>GetOptions</em>, so, for example, API responses for calls with <code>extendedResult: true</code> and <code>extendedResult: false</code>
will be stored independently.</p>

<a href="#creating-a-custom-cache" id="creating-a-custom-cache" style="color: inherit; text-decoration: none;">
  <h4>Creating a custom cache</h4>
</a>
<p>The SDK can be configured to use a custom cache store that is implemented by your application. This is useful if you are using this SDK in an environment where a different data store is more convenient, such as a hybrid mobile app.</p>
<p>To do this, provide an object to the <code>cache</code> property of the SDK configuration.</p>
<p>The object should implement the following functions. Note that all of these functions can optionally return a Promise or a static value.</p>
<table>
<thead>
<tr>
<th>Signature</th>
<th>Return type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>get(key)</code></td>
<td>Promise<object> or object</td>
<td>Returns the item from the cache with the specified key, or <code>undefined</code> if it was not found</td>
</tr>
<tr>
<td><code>set(key: string, object: any) </code></td>
<td>Promise<void> or void</td>
<td>Sets an item into the cache</td>
</tr>
<tr>
<td><code>remove(key)</code></td>
<td>Promise<void> or void</td>
<td>Removes a single item from the cache at the specified key, or no-op if the item was not found</td>
</tr>
<tr>
<td><code>allKeys()</code></td>
<td>Promise&lt;string[]&gt; or string []</td>
<td>Returns the list of all keys. By default, the keys we use are prefixed with <code>@fpjs@client@</code> but you can pass your own custom prefix as an option when you create the FpjsClient</td>
</tr>
</tbody></table>
<p><strong>Note:</strong> The <code>cache</code> property takes precedence over the <code>cacheLocation</code> property if both are set. A warning is displayed in the console if this scenario occurs.</p>
<p>We also export the internal <code>InMemoryCache</code>, <code>LocalStorageCache</code>, <code>SessionStorageCache</code>, and <code>CacheStub</code> implementations, so you can wrap your custom cache around these implementations if you wish.</p>

<a href="#documentation-1" id="documentation-1" style="color: inherit; text-decoration: none;">
  <h2>Documentation</h2>
</a>
<p>You can find the <a href="https://fingerprintjs.github.io/fingerprintjs-pro-spa/">API reference here</a>.</p>

<a href="#cache-time" id="cache-time" style="color: inherit; text-decoration: none;">
  <h4>Cache time</h4>
</a>
<p>Fpjs client receives <code>cacheTimeInSeconds</code> as one of the options. To ensure high identification accuracy we recommend that the visitor data is not cached for longer than 24 hours.
For that reason, if you pass a value higher than 86400 (60 * 60 * 24), the FpjsClient constructor will throw an error.</p>

<a href="#support--feedback" id="support--feedback" style="color: inherit; text-decoration: none;">
  <h2>Support + Feedback</h2>
</a>
<p>For support or to provide feedback, please <a href="https://github.com/fingerprintjs/fingerprintjs-pro-spa/issues">raise an issue on our issue tracker</a>.</p>

<a href="#what-is-fingerprint-pro" id="what-is-fingerprint-pro" style="color: inherit; text-decoration: none;">
  <h2>What is Fingerprint Pro?</h2>
</a>

<a href="#fingerprint-pro-is-the-fraud-detection-api-for-your-business" id="fingerprint-pro-is-the-fraud-detection-api-for-your-business" style="color: inherit; text-decoration: none;">
  <h3>Fingerprint Pro is the fraud detection API for your business</h3>
</a>
<p>Fingerprint Pro is a combination of a JavaScript agent that runs in the browser and a server-side storage and API system 
that securely identifies visitors and stores all the information you need to detect fraud.</p>

<a href="#javascript-agent" id="javascript-agent" style="color: inherit; text-decoration: none;">
  <h3>JavaScript agent</h3>
</a>
<p>Fingerprint Pro does not calculate fingerprints in the browser. Instead, it uses a lightweight JavaScript agent that collects multiple device signals and sends them to our servers. 
This helps prevent reverse engineering and spoofing of an identifier by advanced bots. The agent is hosted at edge locations around the world. It is only 12 KB in size and 20 ms away from your users.</p>

<a href="#server-side-identification-system" id="server-side-identification-system" style="color: inherit; text-decoration: none;">
  <h3>Server-side identification system</h3>
</a>
<p>The server-side identification system provides a platform that processes and stores page views and events to identify your website visitors. 
It also provides many helpful features that are explained in more detail <a href="https://dev.fingerprint.com/docs/introduction">in our documentation</a>.</p>

<a href="#license" id="license" style="color: inherit; text-decoration: none;">
  <h2>License</h2>
</a>
<p>This project is licensed under the MIT license. See the <a href="https://github.com/fingerprintjs/fingerprintjs-pro-spa/blob/master/LICENSE">LICENSE</a> file for more information.</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-enum"><a href="enums/CacheLocation.html" class="tsd-kind-icon">Cache<wbr/>Location</a></li><li class="tsd-kind-class"><a href="classes/CacheStub.html" class="tsd-kind-icon">Cache<wbr/>Stub</a></li><li class="tsd-kind-class"><a href="classes/FpjsClient.html" class="tsd-kind-icon">Fpjs<wbr/>Client</a></li><li class="tsd-kind-class"><a href="classes/InMemoryCache.html" class="tsd-kind-icon">In<wbr/>Memory<wbr/>Cache</a></li><li class="tsd-kind-class"><a href="classes/LocalStorageCache.html" class="tsd-kind-icon">Local<wbr/>Storage<wbr/>Cache</a></li><li class="tsd-kind-class"><a href="classes/SessionStorageCache.html" class="tsd-kind-icon">Session<wbr/>Storage<wbr/>Cache</a></li><li class="tsd-kind-interface tsd-is-external"><a href="interfaces/Agent.html" class="tsd-kind-icon">Agent</a></li><li class="tsd-kind-interface"><a href="interfaces/FpjsClientOptions.html" class="tsd-kind-icon">Fpjs<wbr/>Client<wbr/>Options</a></li><li class="tsd-kind-interface tsd-has-type-parameter tsd-is-external"><a href="interfaces/GetOptions.html" class="tsd-kind-icon">Get<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/ICache.html" class="tsd-kind-icon">ICache</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#Cacheable" class="tsd-kind-icon">Cacheable</a></li><li class="tsd-kind-type-alias tsd-is-external"><a href="modules.html#ExtendedGetResult" class="tsd-kind-icon">Extended<wbr/>Get<wbr/>Result</a></li><li class="tsd-kind-type-alias tsd-is-external"><a href="modules.html#GetResult" class="tsd-kind-icon">Get<wbr/>Result</a></li><li class="tsd-kind-type-alias tsd-is-external"><a href="modules.html#LoadOptions" class="tsd-kind-icon">Load<wbr/>Options</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#VisitorData" class="tsd-kind-icon">Visitor<wbr/>Data</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>